{% extends 'base.html' %}

{% block content %}
    <div class="container">
        <div class="row mt-5">
            <div class="col text-center">
                <h1 class="text-success mt-5">Welcome {% if profile.full_name %}{{profile.full_name|title}}{% else %}{{user|title}}{% endif %}</h1>
                <h3 class="text-muted"><span id="subheading"></span><span id="typing"></span></h3>
                <p class="lead">You will be redirected in <span id="countdown">5</span></p>
            </div>
        </div>
    </div>
{% endblock %}
{% block postloadjs %}
<script type="text/javascript">
    let counter = 5;
    let interval = setInterval(function() {
        counter--;
        $('#countdown').text(counter);
    }, 1000);

    let startAt = 0;
    let string = "Updating User Data"
    let textInsert = setInterval(function(){
        startAt++;
        newString = string.substring(0,startAt);
        $('#subheading').text(newString);
    },150)

    $(document).ready(function () {
        // Handler for .ready() called.
        window.setTimeout(function () {
            location.href = "/";
        }, 5000);
    });
</script>
{% endblock %}